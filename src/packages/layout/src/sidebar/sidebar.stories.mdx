import {Meta, Preview, Props, Story} from '@storybook/addon-docs/blocks';
import {moduleMetadata} from '@storybook/angular';
import {ETooltipModule, EBadgeModule} from '../../../core';
import {ESidebar, ESidebarItem, ESidebarModule} from './';

# Sidebar

<Meta title="Layout/Sidebar" decorators={[moduleMetadata({imports: [ESidebarModule, EBadgeModule, ETooltipModule]})]}/>

<Props of={ESidebar}/>

<Props of={ESidebarItem}/>

<Preview>
    <Story name="Sidebar opened (directives)" height="400px">
        {{
            template: `
                <svg
                    style="background-color: var(--N50); padding: var(--S12); cursor: pointer; margin-bottom: var(--S12)"
                    width="24px"
                    viewBox="0 0 24 24"
                    (click)="isSidebarCollapsed = !isSidebarCollapsed"
                >
                    <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M4 8C3.45 8 3 7.55 3 7C3 6.45 3.45 6 4 6H20C20.55 6 21 6.45 21 7C21 7.55 20.55 8 20 8H4ZM4 13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11H4C3.45 11 3 11.45 3 12C3 12.55 3.45 13 4 13ZM4 18H20C20.55 18 21 17.55 21 17C21 16.45 20.55 16 20 16H4C3.45 16 3 16.45 3 17C3 17.55 3.45 18 4 18Z"
                    />
                </svg>
                <nav eSidebar [isCollapse]="isSidebarCollapsed">
                    <div eSidebarTop>
                        <!-- Раздел 1 -->
                        <a
                            #eSidebarItem
                            eSidebarItem
                            [ngClass]="activeItemIndex === 0 ? eSidebarItemTemplate.activeClass : ''"
                            tooltip="Раздел 1"
                            text="Раздел 1"
                            (click)="activeItemIndex = 0"
                        >
                            <div icon>
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18.7912 11.005H7.62124L12.5012 6.12499C12.8912 5.73499 12.8912 5.09499 12.5012 4.70499C12.3144 4.51774 12.0608 4.41251 11.7962 4.41251C11.5317 4.41251 11.2781 4.51774 11.0912 4.70499L4.50124 11.295C4.11124 11.685 4.11124 12.315 4.50124 12.705L11.0912 19.295C11.4812 19.685 12.1112 19.685 12.5012 19.295C12.8912 18.905 12.8912 18.275 12.5012 17.885L7.62124 13.005H18.7912C19.3412 13.005 19.7912 12.555 19.7912 12.005C19.7912 11.455 19.3412 11.005 18.7912 11.005Z" />
                                </svg>
                            </div>
                        </a>
                        <!-- Раздел 2 -->
                        <a
                            #eSidebarItem
                            eSidebarItem
                            [ngClass]="activeItemIndex === 1 ? eSidebarItemTemplate.activeClass : ''"
                            tooltip="Раздел 2"
                            text="Раздел 2"
                            (click)="activeItemIndex = 1"
                        >
                            <div icon>
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M20 11.5H18.5V7.5C18.5 6.4 17.6 5.5 16.5 5.5H12.5V4C12.5 2.62 11.38 1.5 10 1.5C8.62 1.5 7.5 2.62 7.5 4V5.5H3.5C2.4 5.5 1.51 6.4 1.51 7.5V11.3H3C4.49 11.3 5.7 12.51 5.7 14C5.7 15.49 4.49 16.7 3 16.7H1.5V20.5C1.5 21.6 2.4 22.5 3.5 22.5H7.3V21C7.3 19.51 8.51 18.3 10 18.3C11.49 18.3 12.7 19.51 12.7 21V22.5H16.5C17.6 22.5 18.5 21.6 18.5 20.5V16.5H20C21.38 16.5 22.5 15.38 22.5 14C22.5 12.62 21.38 11.5 20 11.5Z" />
                                </svg>
                            </div>
                        </a>
                        <!-- Раздел 3 -->
                        <a
                            #eSidebarItemTemplate
                            eSidebarItem
                            [ngClass]="activeItemIndex === 2 ? eSidebarItemTemplate.activeClass : ''"
                            tooltip="Раздел 3"
                            text="Раздел 3"
                            (click)="activeItemIndex = 2"
                        >
                            <div icon>
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule=evenodd clip-rule=evenodd d="M9 2.49779C7.61929 2.49779 6.5 3.61708 6.5 4.99779C6.5 6.3785 7.61929 7.49779 9 7.49779C10.3807 7.49779 11.5 6.3785 11.5 4.99779C11.5 3.61708 10.3807 2.49779 9 2.49779ZM4.5 6.49779C3.11929 6.49779 2 7.61708 2 8.99779C2 10.3785 3.11929 11.4978 4.5 11.4978C5.88071 11.4978 7 10.3785 7 8.99779C7 7.61708 5.88071 6.49779 4.5 6.49779ZM12.5 4.99779C12.5 3.61708 13.6193 2.49779 15 2.49779C16.3807 2.49779 17.5 3.61708 17.5 4.99779C17.5 6.3785 16.3807 7.49779 15 7.49779C13.6193 7.49779 12.5 6.3785 12.5 4.99779ZM19.5 6.49779C18.1193 6.49779 17 7.61708 17 8.99779C17 10.3785 18.1193 11.4978 19.5 11.4978C20.8807 11.4978 22 10.3785 22 8.99779C22 7.61708 20.8807 6.49779 19.5 6.49779ZM16.4437 13.3033C16.7333 13.6447 17.0276 13.9916 17.34 14.3578C17.4179 14.4357 17.4969 14.5141 17.5765 14.5931C18.8347 15.8424 20.2416 17.2391 19.95 19.1578C19.66 20.1678 18.93 21.1878 17.62 21.4778C17.284 21.5422 16.6092 21.4542 15.7368 21.3403C14.7136 21.2068 13.4187 21.0378 12.08 21.0378H11.9C10.5726 21.0378 9.28818 21.2068 8.26906 21.3409C7.38415 21.4574 6.69927 21.5475 6.36 21.4778C5.05 21.1878 4.32 20.1778 4.03 19.1578C3.74798 17.2494 5.15391 15.8536 6.41175 14.6049C6.49193 14.5253 6.5715 14.4463 6.65 14.3678C7.21408 13.714 7.71652 13.1218 8.23371 12.5122C8.52337 12.1708 8.81767 11.824 9.13 11.4578C9.6 10.9178 10.18 10.3778 10.88 10.1378C10.99 10.0978 11.1 10.0678 11.21 10.0478C11.47 9.99779 11.74 9.99779 12 9.99779C12.26 9.99779 12.53 9.99779 12.78 10.0378C12.89 10.0578 13 10.0878 13.11 10.1278C13.81 10.3678 14.4 10.9078 14.86 11.4478C15.4241 12.1016 15.9265 12.6937 16.4437 13.3033Z" />
                                </svg>
                            </div>
                            <e-badge eSidebarBadge appearance="alert">1</e-badge>
                        </a>
                    </div>
                    <div eSidebarBottom>
                        <div eSidebarDivider></div>
                        <!-- Раздел 4 -->
                        <a
                            #eSidebarItem
                            eSidebarItem
                            [ngClass]="activeItemIndex === 3 ? eSidebarItemTemplate.activeClass : ''"
                            tooltip="Раздел 4"
                            (click)="activeItemIndex = 3"
                        >
                            <div icon>
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M13.3497 20.3072C12.5897 20.9972 11.4197 20.9972 10.6597 20.2972L10.5497 20.1972C5.29966 15.4472 1.86966 12.3372 1.99966 8.4572C2.05966 6.7572 2.92966 5.1272 4.33966 4.1672C6.97966 2.3672 10.2397 3.2072 11.9997 5.2672C13.7597 3.2072 17.0197 2.3572 19.6597 4.1672C21.0697 5.1272 21.9397 6.7572 21.9997 8.4572C22.1397 12.3372 18.6997 15.4472 13.4497 20.2172L13.3497 20.3072Z" />
                                </svg>
                            </div>
                            <div text><span>Раздел 4</span></div>
                        </a>
                    </div>
                </nav>
            `,
            props: {
                isSidebarCollapsed: false,
                activeItemIndex: 0,
            }
        }}
    </Story>
</Preview>

<Preview>
    <Story name="Sidebar opened (components)" height="400px">
        {{
            template: `
                <svg
                    style="background-color: var(--N50); padding: var(--S12); cursor: pointer; margin-bottom: var(--S12)"
                    width="24px"
                    viewBox="0 0 24 24"
                    (click)="isSidebarCollapsed = !isSidebarCollapsed"
                >
                    <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M4 8C3.45 8 3 7.55 3 7C3 6.45 3.45 6 4 6H20C20.55 6 21 6.45 21 7C21 7.55 20.55 8 20 8H4ZM4 13H20C20.55 13 21 12.55 21 12C21 11.45 20.55 11 20 11H4C3.45 11 3 11.45 3 12C3 12.55 3.45 13 4 13ZM4 18H20C20.55 18 21 17.55 21 17C21 16.45 20.55 16 20 16H4C3.45 16 3 16.45 3 17C3 17.55 3.45 18 4 18Z"
                    />
                </svg>
                <e-sidebar [isCollapse]="isSidebarCollapsed">
                    <e-sidebar-top>
                        <!-- Раздел 1 -->
                        <a
                            #eSidebarItem
                            eSidebarItem
                            [ngClass]="activeItemIndex === 0 ? eSidebarItemTemplate.activeClass : ''"
                            tooltip="Раздел 1"
                            text="Раздел 1"
                            (click)="activeItemIndex = 0"
                        >
                            <div icon>
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18.7912 11.005H7.62124L12.5012 6.12499C12.8912 5.73499 12.8912 5.09499 12.5012 4.70499C12.3144 4.51774 12.0608 4.41251 11.7962 4.41251C11.5317 4.41251 11.2781 4.51774 11.0912 4.70499L4.50124 11.295C4.11124 11.685 4.11124 12.315 4.50124 12.705L11.0912 19.295C11.4812 19.685 12.1112 19.685 12.5012 19.295C12.8912 18.905 12.8912 18.275 12.5012 17.885L7.62124 13.005H18.7912C19.3412 13.005 19.7912 12.555 19.7912 12.005C19.7912 11.455 19.3412 11.005 18.7912 11.005Z" />
                                </svg>
                            </div>
                        </a>
                        <!-- Раздел 2 -->
                        <a
                            #eSidebarItem
                            eSidebarItem
                            [ngClass]="activeItemIndex === 1 ? eSidebarItemTemplate.activeClass : ''"
                            tooltip="Раздел 2"
                            text="Раздел 2"
                            (click)="activeItemIndex = 1"
                        >
                            <div icon>
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M20 11.5H18.5V7.5C18.5 6.4 17.6 5.5 16.5 5.5H12.5V4C12.5 2.62 11.38 1.5 10 1.5C8.62 1.5 7.5 2.62 7.5 4V5.5H3.5C2.4 5.5 1.51 6.4 1.51 7.5V11.3H3C4.49 11.3 5.7 12.51 5.7 14C5.7 15.49 4.49 16.7 3 16.7H1.5V20.5C1.5 21.6 2.4 22.5 3.5 22.5H7.3V21C7.3 19.51 8.51 18.3 10 18.3C11.49 18.3 12.7 19.51 12.7 21V22.5H16.5C17.6 22.5 18.5 21.6 18.5 20.5V16.5H20C21.38 16.5 22.5 15.38 22.5 14C22.5 12.62 21.38 11.5 20 11.5Z" />
                                </svg>
                            </div>
                        </a>
                        <!-- Раздел 3 -->
                        <a
                            #eSidebarItemTemplate
                            eSidebarItem
                            [ngClass]="activeItemIndex === 2 ? eSidebarItemTemplate.activeClass : ''"
                            tooltip="Раздел 3"
                            text="Раздел 3"
                            (click)="activeItemIndex = 2"
                        >
                            <div icon>
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule=evenodd clip-rule=evenodd d="M9 2.49779C7.61929 2.49779 6.5 3.61708 6.5 4.99779C6.5 6.3785 7.61929 7.49779 9 7.49779C10.3807 7.49779 11.5 6.3785 11.5 4.99779C11.5 3.61708 10.3807 2.49779 9 2.49779ZM4.5 6.49779C3.11929 6.49779 2 7.61708 2 8.99779C2 10.3785 3.11929 11.4978 4.5 11.4978C5.88071 11.4978 7 10.3785 7 8.99779C7 7.61708 5.88071 6.49779 4.5 6.49779ZM12.5 4.99779C12.5 3.61708 13.6193 2.49779 15 2.49779C16.3807 2.49779 17.5 3.61708 17.5 4.99779C17.5 6.3785 16.3807 7.49779 15 7.49779C13.6193 7.49779 12.5 6.3785 12.5 4.99779ZM19.5 6.49779C18.1193 6.49779 17 7.61708 17 8.99779C17 10.3785 18.1193 11.4978 19.5 11.4978C20.8807 11.4978 22 10.3785 22 8.99779C22 7.61708 20.8807 6.49779 19.5 6.49779ZM16.4437 13.3033C16.7333 13.6447 17.0276 13.9916 17.34 14.3578C17.4179 14.4357 17.4969 14.5141 17.5765 14.5931C18.8347 15.8424 20.2416 17.2391 19.95 19.1578C19.66 20.1678 18.93 21.1878 17.62 21.4778C17.284 21.5422 16.6092 21.4542 15.7368 21.3403C14.7136 21.2068 13.4187 21.0378 12.08 21.0378H11.9C10.5726 21.0378 9.28818 21.2068 8.26906 21.3409C7.38415 21.4574 6.69927 21.5475 6.36 21.4778C5.05 21.1878 4.32 20.1778 4.03 19.1578C3.74798 17.2494 5.15391 15.8536 6.41175 14.6049C6.49193 14.5253 6.5715 14.4463 6.65 14.3678C7.21408 13.714 7.71652 13.1218 8.23371 12.5122C8.52337 12.1708 8.81767 11.824 9.13 11.4578C9.6 10.9178 10.18 10.3778 10.88 10.1378C10.99 10.0978 11.1 10.0678 11.21 10.0478C11.47 9.99779 11.74 9.99779 12 9.99779C12.26 9.99779 12.53 9.99779 12.78 10.0378C12.89 10.0578 13 10.0878 13.11 10.1278C13.81 10.3678 14.4 10.9078 14.86 11.4478C15.4241 12.1016 15.9265 12.6937 16.4437 13.3033Z" />
                                </svg>
                            </div>
                            <e-badge eSidebarBadge appearance="alert">1</e-badge>
                        </a>
                    </e-sidebar-top>
                    <e-sidebar-bottom>
                        <div eSidebarDivider></div>
                        <!-- Раздел 4 -->
                        <a
                            #eSidebarItem
                            eSidebarItem
                            [ngClass]="activeItemIndex === 3 ? eSidebarItemTemplate.activeClass : ''"
                            tooltip="Раздел 4"
                            (click)="activeItemIndex = 3"
                        >
                            <div icon>
                                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M13.3497 20.3072C12.5897 20.9972 11.4197 20.9972 10.6597 20.2972L10.5497 20.1972C5.29966 15.4472 1.86966 12.3372 1.99966 8.4572C2.05966 6.7572 2.92966 5.1272 4.33966 4.1672C6.97966 2.3672 10.2397 3.2072 11.9997 5.2672C13.7597 3.2072 17.0197 2.3572 19.6597 4.1672C21.0697 5.1272 21.9397 6.7572 21.9997 8.4572C22.1397 12.3372 18.6997 15.4472 13.4497 20.2172L13.3497 20.3072Z" />
                                </svg>
                            </div>
                            <div text><span>Раздел 4</span></div>
                        </a>
                    </e-sidebar-bottom>
                </e-sidebar>
            `,
            props: {
                isSidebarCollapsed: false,
                activeItemIndex: 0,
            }
        }}
    </Story>
</Preview>

